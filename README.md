Это технический план разработки приложения для изучения слов под кодовым названием "LexiFlow".
1. Краткое описание функционала
Приложение представляет собой PWA (Progressive Web App) на базе Next.js для накопления персонального словаря и тренировок. Все данные хранятся локально в браузере пользователя. Основной фокус — на скорости добавления слов и удобстве повторения через систему интервальных повторений (Leitner System).
2. Детальный пользовательский флоу
Шаг 1: Welcome Screen
Заголовок и подзаголовок (ценностное предложение).
Две яркие кнопки: «Начать обучение» (активна, если есть слова) и «Добавить слова» (первичный вход).
Краткая инструкция: "Ваши данные хранятся только на этом устройстве".
Шаг 2: Экран загрузки (Import/Add)
Ручной ввод: Два поля (Word / Translation) + поле для тегов.
Массовый импорт:
Drag-and-drop зона для .csv или .txt.
Текстовое поле для вставки текста форматом слово - перевод или word;translation.
Валидация: Проверка на дубликаты и пустые поля.
Шаг 3: Экран изучения (Flashcards)
Карточка с 3D-эффектом переворота (CSS Flip).
Стороны: EN (лицевая) → RU (обратная) и наоборот (рандомно или по выбору).
Действия: Кнопки «Не знаю» (красная) и «Знаю» (зеленая).
UX: Свайп вправо — знаю, свайп влево — не знаю.
Progress bar: Отображение прогресса текущей сессии.
Шаг 4: Экран теста (Multiple Choice)
Вопрос (слово) + 4 варианта ответа (один правильный, три рандомных из словаря).
Моментальная визуальная отдача (зеленая/красная подсветка при клике).
Шаг 5: Экран статистики
Общее количество слов.
Распределение по "коробкам" (Leitner Boxes): Новые / В процессе / Выучено.
Кнопка "Очистить все данные" (с подтверждением).
3. Техническая архитектура и стек
Framework: Next.js 14/15 (App Router). Использование SSR для лендинга и клиентского рендеринга (CSR) для логики обучения.
State Management: Zustand. Легкий, отлично подходит для синхронизации с хранилищем.
Database: IndexedDB (через библиотеку Dexie.js). localStorage имеет лимит 5МБ, что мало для больших словарей, а IndexedDB надежнее и быстрее.
Styling: Tailwind CSS + Framer Motion (для анимации карточек).
Components: Shadcn/UI или Radix UI для доступных и адаптивных элементов.
PWA: next-pwa для генерации manifest.json и Service Workers (работа без интернета).
Система интервальных повторений (Leitner Lite):
Каждое слово имеет атрибут box (1-5) и nextReviewDate.
Правильный ответ: box++, дата увеличивается (1ч -> 1 день -> 3 дня -> 7 дней -> 30 дней).
Ошибка: box = 1, повтор через час.
4. План задач по этапам
Этап 1: MVP (Базовая функциональность)
Настройка Next.js и интеграция Dexie.js для хранения слов.
Создание формы добавления слов и парсера для CSV/TXT.
Разработка экрана "Карточки": логика переворота и простая фильтрация (показывать все слова).
Базовый Layout: мобильное меню и контейнер.
Этап 2: Улучшение (Механики обучения)
Реализация алгоритма Leitner (расчет даты следующего повторения).
Экран "Тест" (Multiple Choice) с логикой подбора неверных вариантов.
Добавление категорий (тегов) и фильтрация тренировок по ним.
Интеграция Web Speech API для озвучки слов (TTS).
Темная тема (через next-themes).
Этап 3: PWA и Полировка
Настройка Service Worker для кэширования статики и оффлайн-доступа.
Создание иконок и manifest.json.
Оптимизация UX: добавление свайп-жестов (библиотека react-use-gesture).
Добавление звуковых эффектов при правильных/неправильных ответах.
5. Рекомендации по UX
Для Mobile:
Зона большого пальца: Кнопки "Знаю/Не знаю" должны находиться в нижней трети экрана.
Свайпы: Обязательная поддержка жестов для перелистывания карточек.
Haptic Feedback: Легкая вибрация при ошибке (через navigator.vibrate).
PWA: Скрыть элементы интерфейса браузера (standalone mode), чтобы приложение выглядело как нативное.
Для Desktop:
Горячие клавиши:
Space — перевернуть карточку.
Стрелка влево / 1 — Не знаю.
Стрелка вправо / 2 — Знаю.
Hover-эффекты: Визуальный отклик при наведении на варианты ответов в тестах.
Общие:
Скелетоны (Skeletons): Пока данные грузятся из IndexedDB, показывать пустые карточки.
Empty States: Если слов нет, экран обучения должен предлагать "Добавить первые слова", а не просто быть пустым.